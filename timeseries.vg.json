{
  "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
  "width": 950,
  "height": 450,
  "title": {
    "text": "Exports Trends for All Trading Partners (2014–2024)",
    "subtitle": "Source: ABS & DFAT (2014–2024)",
    "fontSize": 16,
    "fontWeight": "bold",
    "anchor": "middle"
  },
  "data": {"url": "Data/exports2024.csv"},
  "params": [
    {"name": "yearFilter"},
    {"name": "tradeType"}
  ],
  "transform": [
    {"filter": "datum.Year <= yearFilter"},
    {
      "calculate": "tradeType == 'Exports' ? datum.Exports_A$b : datum.Imports_A$b",
      "as": "TradeValue"
    }
  ],
  "mark": {"type": "line", "point": true, "strokeWidth": 2.5},
  "encoding": {
    "x": {
      "field": "Year",
      "type": "quantitative",
      "title": "Year",
      "axis": {"grid": false, "tickCount": 11, "format": "d"}
    },
    "y": {
      "field": "TradeValue",
      "type": "quantitative",
      "title": "Trade Value (A$ Billion)",
      "scale": {"domain": [0, 220]},
      "axis": {"grid": true}
    },
    "color": {
      "field": "Country",
      "type": "nominal",
      "title": "Country",
      "scale": {
        "domain": [
          "China", "Japan", "South Korea", "United States of America",
          "India", "Taiwan", "Singapore", "United Kingdom",
          "New Zealand", "Thailand"
        ],
        "range": [
          "#e74c3c", "#3498db", "#2ecc71", "#f39c12",
          "#9b59b6", "#1abc9c", "#e67e22", "#34495e",
          "#16a085", "#d35400"
        ]
      },
      "legend": {
        "orient": "right",
        "labelLimit": 200,
        "symbolSize": 80,
        "titleLimit": 100,
        "offset": 10
      }
    }, 
    "tooltip": [
      {"field": "Country", "type": "nominal", "title": "Country"},
      {"field": "Year", "type": "quantitative", "title": "Year"},
      {"field": "TradeValue", "type": "quantitative", "title": "Value (A$ Billion)", "format": ".0f"},
      {"field": "Exports_A$b", "title": "Exports (A$ Billion)", "format": ".0f"},
      {"field": "Imports_A$b", "title": "Imports (A$ Billion)", "format": ".0f"}
    ]
  },
  "config": {
    "background": "#ffffff",
    "view": {"stroke": null},
    "axis": {"labelFontSize": 11, "titleFontSize": 12}
  }
}

